# 最小区块链实现

本项目实现了一个最小的区块链系统，主要包含 POW 挖矿和区块链接功能。

## 项目要求

1. 实现 POW（工作量证明）挖矿机制
   - 难度要求：区块哈希值以 4 个 0 开头
   - 通过不断尝试不同的 proof 值来满足条件

2. 实现区块链接
   - 每个区块包含 `previousHash` 字段
   - 通过 `previousHash` 将所有区块串联成链

## 项目结构

```
src/main/java/com/blockchain/
├── Block.java          // 区块实现
├── Transaction.java    // 交易实现
├── Blockchain.java     // 区块链核心逻辑
├── Miner.java         // 矿工实现
└── Main.java          // 主程序入口
```

## 核心功能

1. **区块结构**
   ```java
   {
     'index': 1,
     'timestamp': 1506057125,
     'transactions': [
         { 'sender': "xxx", 
           'recipient': "xxx", 
           'amount': 5 }
     ], 
     'proof': 324984774000,
     'previous_hash': "xxxx"
   }
   ```

2. **多矿工竞争机制**
   - 支持多个矿工同时挖矿
   - 实现了竞争机制，先找到有效 proof 的矿工获得出块权
   - 使用多线程模拟多矿工并行挖矿

3. **POW 工作量证明**
   - 通过不断尝试不同的 proof 值
   - 直到找到一个使得区块哈希值以 4 个 0 开头的值
   - 在 `Block` 类中实现了 `findProof()` 方法

4. **区块链接**
   - 每个新区块都包含前一个区块的哈希值
   - 形成了一个不可篡改的链条
   - 通过 `previousHash` 字段实现区块间的链接

## 运行方法

1. 编译项目：
```bash
mvn clean compile
```

2. 运行程序：
```bash
mvn exec:java -Dexec.mainClass="com.blockchain.Main"
```

## 示例输出

程序运行后会显示：
- 创建创世区块
- 添加交易到待处理池
- 多个矿工竞争挖矿的过程
- 成功挖出区块并上链
- 完整的区块链信息

## 项目特点

1. 完整实现了区块链的基本概念
2. 使用多线程模拟真实的矿工竞争
3. 代码结构清晰，易于理解
4. 包含详细的日志输出，方便观察区块链运行过程

## 扩展思考

1. 在实际的区块链中，难度系数是动态调整的
2. 真实系统中还需要考虑网络传播、分叉处理等问题
3. 可以添加交易手续费、区块奖励等机制
4. 可以实现持久化存储、P2P网络等功能 